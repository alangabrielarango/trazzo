<% include ../partials/header %>

<div class="container-fluid margen100">
    <% include ../partials/toolbar %>
    <div class="row">
        <table class="table table-striped table-hover table-condensed">
            <tr>
                <th>Nombre</th>
                <th>Tipo</th>
                <th>Categoría</th>
                <th></th>
            </tr>
            <% subcategories.forEach(function(subcategory){ %>
                <tr>
                    <td><%= subcategory.name %></td>
                    <td><% var tipo = ""; subcategory.sign > 0 ? tipo = "INGRESO" : tipo = "GASTO"; %><%= tipo %></td>
                    <td><% var nulo = subcategory.category ? subcategory.category.name : "ERROR: NO HAY DATO" %><%= nulo %></td>
                    <td><a href="/subcategories/<%= subcategory._id %>/edit" class="btn btn-warning"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                    <form class="delete-form" action="/subcategories/<%= subcategory._id %>?_method=delete" method="POST">
                        <button onclick="return confirm('Está seguro de eliminar: <%= subcategory.name %>?');" class="btn btn-danger"><i class="fa fa-trash" aria-hidden="true"></i></button>
                    </form></td>
                </tr>
            <% }); %>
        </table>  
        
        <% include ../partials/pagination %>
        
    </div>
</div>

<% include ../partials/footer %>